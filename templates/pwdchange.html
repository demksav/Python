{% extends "layout.html" %}

{% block title %}
    Password Change
{% endblock %}

{% block main %}

<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script>
    $( document ).ready(function(){
	  $( "form" ).submit(function(){
	    event.preventDefault(); // отменяем действие события по умолчанию
	        if (!document.forms["form"].elements["password"].value.length) {
	           alert('Provide password');
	        }
	        else if (!document.forms["form"].elements["password_new"].value.length) {
	           alert('Provide new password');
	        }
	        else if (document.forms["form"].elements["password_new"].value != document.forms["form"].elements["conformation"].value) {
                alert('New passwords not match');
            } else {
                form.submit();
            }
	  });
	});

    </script>

    <form name="form" action="/pwdchange" method="post" onsubmit="return validate()>
        <div class="form-group">
            <input class="form-control" name="password" placeholder="Password (old)" type="password">
        </div>
        <div class="form-group">
            <input class="form-control" name="password_new" placeholder="Password (new)" type="password">
        </div>
        <div class="form-group">
            <input class="form-control" name="conformation" placeholder="Password (new again)" type="password">
        </div>
        <button class="btn btn-primary" type="submit">Confirm</button>
    </form>

{% endblock %}
